<app-no-scopes-message *ngIf="missingAllRequiredScopes">
    To display the industry page, you need to grant the "Read industry jobs" scope.
</app-no-scopes-message>

<div class="container industry-page-container" *ngIf="missingAllRequiredScopes === false">
    <div *ngIf="industryJobs && !industryJobs.length">
        <h3>You have no active industry jobs.</h3>
    </div>

    <div class="industry-job-container" *ngFor="let job of industryJobs" [ngSwitch]="job.activity_id">
        <h4 class="icon-container">
            <fa-icon [ngbTooltip]="getIndustryActivityName(job.activity_id)" placement="right"
                     [icon]="getIconForIndustryActivity(job.activity_id)"></fa-icon>
        </h4>
        <img src="https://imageserver.eveonline.com/Type/{{ job.blueprint_type_id }}_64.png" alt="bp">
        <h4 class="icon-container">
            <fa-icon [icon]="arrowRight"></fa-icon>
        </h4>
        <img [ngClass]="{copy: job.activity_id === IndustryActivity.copying}"
             src="https://imageserver.eveonline.com/Type/{{ job.product_type_id }}_64.png" alt="bp">
        <h4 class="icon-container">
            <fa-icon [icon]="jobRunsIcon"></fa-icon>
            {{ job.runs }}
        </h4>
        <p class="percentage-container">
            <span>{{ job.percentageDone }}%
                <fa-icon *ngIf="job.timeLeft.value > 0" [icon]="jobInProgressIcon" [spin]="!(!!job.pause_date)"></fa-icon>
                <fa-icon *ngIf="job.timeLeft.value <= 0" [icon]="jobFinishedIcon"></fa-icon>
            </span>
            <span> {{ job.timeLeft.value > 0 ? job.timeLeft : 'Finished' }}</span>
        </p>
    </div>

    <hr>
    <h3>Debug data</h3>
    <p>Industry data</p>
    <pre>{{ industryJobs | json }}</pre>
    <hr>
    <p>Blueprint data</p>
    <pre>{{ blueprints | json }}</pre>
</div>
